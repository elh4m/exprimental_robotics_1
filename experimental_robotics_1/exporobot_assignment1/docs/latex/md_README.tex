The following repository contains a ROS package for a toy simulation of Clauedo game in which a robot explore the environment for hints to find the killer. The environment in this project is an appartment with three rooms in which robot enter one by one to find hints. Based on the discovered hints robot deduces a hypotheses regarding the killer. The deduced hypotheses by robot has to be consistent and correct which means it has to be based on three different types of hints and belongs to set of predefined hypotheses which are considered as corrrect.


\begin{DoxyEnumerate}
\item who\+: Robot can find a name of a person as a hint which can be a killer e.\+g\+: Prof. Plum.
\item what\+: Robot can find a name of a weapon as a hint which killer might have used e.\+g\+: Dagger.
\item where\+: Robot can find a name of random place where the crime might have been committed e.\+g\+: Hall.
\end{DoxyEnumerate}

Statement of a consistent hypothesis will be something like this\+: “\+Prof. Plum with the Dagger in the Hall”. Incase the deduced hypotheses is wrong then the robot will visit the three rooms again for new hints until it forms a consistent hypotheses.

To deduced an hypothesis robot use the ARMOR package service which is developed by researchers at University of Genova. ARMOR is versatile management system that can handle single or multiple-\/ontology architectures under ROS. Please find more details regarding ARMOR from here\+: \href{https://github.com/EmaroLab/armor}{\texttt{ https\+://github.\+com/\+Emaro\+Lab/armor}}\hypertarget{md_README_autotoc_md1}{}\doxysection{Project Installation\+:}\label{md_README_autotoc_md1}
This project requires ROS with ARMOR package to be install in the system. Please make sure you have alrady install it before following the instructions. For installing ARMOR package please follow the instructions available in this respository\+: \href{https://github.com/EmaroLab/armor}{\texttt{ https\+://github.\+com/\+Emaro\+Lab/armor}}


\begin{DoxyEnumerate}
\item Code available in {\bfseries{Main}} branch is a ROS package which should be place in ROS workspace \{ros\+\_\+ws\}/src after downloading.
\item To successfully deploy and build the package run the following command. 
\begin{DoxyCode}{0}
\DoxyCodeLine{catkin\_make}
\DoxyCodeLine{cd\ devel/}
\DoxyCodeLine{source\ setup.bash}

\end{DoxyCode}

\item In order to use the python modules contained in armor\+\_\+py\+\_\+api package run the following command to add the path of the armor python modules to your PYTHONPATH environmental variable. 
\begin{DoxyCode}{0}
\DoxyCodeLine{export\ PYTHONPATH=\$PYTHONPATH:/root/ros\_ws/src/armor/armor\_py\_api/scripts/armor\_api/}

\end{DoxyCode}

\item Download the \textquotesingle{}cluedo\+\_\+ontology.\+owl\textquotesingle{} file provided in this repository and place it in the \textquotesingle{}/root/\+Desktop/\textquotesingle{} directory.
\end{DoxyEnumerate}\hypertarget{md_README_autotoc_md2}{}\doxysection{Running the Project Simulation\+:}\label{md_README_autotoc_md2}

\begin{DoxyEnumerate}
\item After successfully installing the python package and other dependecies open a command window and start ROS master by using the following command\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{roscore\&}

\end{DoxyCode}

\item After that start the ARMOR service by using the following command\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{rosrun\ armor\ execute\ it.emarolab.armor.ARMORMainService}


\end{DoxyCode}

\item Open the new tab in command terminal and run the ROS package launch file to start the simulation by using the following command\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{roslaunch\ exporobot\_assignment1\ exporobot\_assignment1.launch}

\end{DoxyCode}
 After running the command wait for the system to load all the files. Once all nodes are loaded, the user\+\_\+interface node will ask to press 1. Upon pressing 1, the simulation will start.
\end{DoxyEnumerate}\hypertarget{md_README_autotoc_md3}{}\doxysection{Software Architecture of the Project\+:}\label{md_README_autotoc_md3}
The project architecture is consist of four python nodes.


\begin{DoxyEnumerate}
\item user\+\_\+interface.\+py
\item motion\+\_\+controller.\+py
\item hint\+\_\+generator.\+py
\item oracle.\+py
\end{DoxyEnumerate}



\textquotesingle{}user\+\_\+interface.\+py\textquotesingle{} node communicates with the user and as per the provided commands, instruct the system to behave accordingly. If the user press 1 in the terminal, it request \textquotesingle{}/user interface\textquotesingle{} service which is hosted by \textquotesingle{}motion\+\_\+controller.\+py\textquotesingle{} node to start the robot simuation. Upon recieving the service request, motion\+\_\+controller node starts the robot simulation in which robot visits Room1, Room2, and Room3 which have pre-\/defined coordinates(R1(2,0), R2(0,2), R3(-\/2,0)) in a X-\/Y axes grid. The robot starts the exploration from a predefined initial position P with coordinates (1,1).



After reaching in any room the robot request for the hint from the hint\+\_\+generator node by calling the \textquotesingle{}/request\+\_\+hint\textquotesingle{} service. The hint\+\_\+generator node respond to this request by generating a random hint from predefined lists of hints.


\begin{DoxyCode}{0}
\DoxyCodeLine{people\ =\ ['Rev.\ Green','Prof.\ Plum','Col.\ Mustard','Mrs.\ Peacock',\ 'Miss.\ Scarlett',\ 'Mrs.\ White']}
\DoxyCodeLine{weapons\ =\ ['Candlestick','Dagger','Lead\ Pipe','Revolver',\ Rope',\ 'Spanner']}
\DoxyCodeLine{places\ =\ ['Kitchen','Lounge','Library','Hall','Study',\ 'Ballroom']}

\end{DoxyCode}
 After recieving the hint, the robot request the \textquotesingle{}/oracle\+\_\+service\textquotesingle{} service which is hosted by oracle node to load the recently discovered hint in the AMOR reasonser. In response to this request, the robot recieve the confirmation feedback if the hint is successfully loaded in the reasoner. After that robot resume its exploration by visiting other rooms and repeating the same setups of requesting services for getting hints and then later loading hints in the reasoner. Once the robot has visited all the rooms and collected all the hints then it once again request \textquotesingle{}/oracle\+\_\+service\textquotesingle{} to starts the reasoner to deduced the hypotheses and then to check if the hypotheses based on recenlty loaded hints is conistent or not. If the hints are consistent then the robot go to the origin position O (0,0) and check hypotheses correctness. Hypotheses is correct if it is consistence and belong to a predefined list of hypotheses in oracle node. If hypotheses is also correct then print the hypotheses statement (e.\+g\+: “\+Prof. Plum with the Dagger in the Hall”) on the terminal screen, otherwise it repeats the exploration again starting from Room1.

The oracle node itself used the \textquotesingle{}/armor\+\_\+interface\+\_\+srv\textquotesingle{} sevice which is hosted by ARMOR package. When it recieve the request from motion\+\_\+controller node then it forward this request to the following service making itself working as a bridge between motion\+\_\+controller and ARMOR package. The idea of having the oracle node in the first place is debatable but in this project the decision for having this node was taken for the purpose of clarity in software architecture and for assigning dedicated task to each node.\hypertarget{md_README_autotoc_md4}{}\doxysection{Project Simulation Demo\+:}\label{md_README_autotoc_md4}
\href{https://user-images.githubusercontent.com/61094879/142734090-305dbd75-fc06-49ff-b726-deb3692156a3.mp4}{\texttt{ https\+://user-\/images.\+githubusercontent.\+com/61094879/142734090-\/305dbd75-\/fc06-\/49ff-\/b726-\/deb3692156a3.\+mp4}}\hypertarget{md_README_autotoc_md5}{}\doxysection{Code Documentation\+:}\label{md_README_autotoc_md5}
The code documentation is done using tools Doxygen and Sphinx. In the {\bfseries{main}} branch the doxygen documentation can be found and for sphinx there is second branch in this respository named {\bfseries{sphinx}}.\hypertarget{md_README_autotoc_md6}{}\doxysection{Contant Info\+:}\label{md_README_autotoc_md6}

\begin{DoxyEnumerate}
\item Author\+: ELham Mohammadi
\item Email\+: \href{mailto:Elham.mohammadi20154@gmail.com}{\texttt{ Elham.\+mohammadi20154@gmail.\+com}} 
\end{DoxyEnumerate}
